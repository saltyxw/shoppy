# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserModel {
  id: Int!
  fullname: String!
  email: String!
  role: String!
  registerDate: DateTime!
  refreshToken: String
  expTimeRefreshToken: DateTime
  emailVerificationToken: String
  expTimeEmailVerificationToken: DateTime
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type ProductMediaModel {
  id: Int!
  imageUrl: String!
  videoUrl: String
  orderPosition: Int!
  productId: Int!
  product: ProductModel!
}

type CategoryModel {
  id: Int!
  name: String!
  products: [ProductCategoryModel!]
}

type ProductCategoryModel {
  productId: Int!
  categoryId: Int!
  product: ProductModel!
  category: CategoryModel!
}

type ReviewModel {
  id: Int!
  text: String!
  rating: Int!
  createdAt: DateTime!
  userId: Int!
  productId: Int!
  user: UserModel!
  product: ProductModel!
}

type OrderModel {
  id: Int!
  createdAt: DateTime!
  userId: Int!
  user: UserModel!
  items: [OrderItemModel!]
}

type OrderItemModel {
  id: Int!
  productId: Int!
  orderId: Int!
  quantity: Int!
  product: ProductModel
  order: OrderModel
}

type ProductModel {
  id: Int!
  name: String!
  description: String!
  price: Float!
  quantity: Int!
  medias: [ProductMediaModel!]
  categories: [ProductCategoryModel!]
  orderItems: [OrderItemModel!]
  reviews: [ReviewModel!]
}

type PaginatedProducts {
  items: [ProductModel!]!
  total: Int!
  page: Int!
  limit: Int!
  totalPages: Int!
}

type AuthResponse {
  access_token: String!
}

type Query {
  products(query: GetProductsInput): PaginatedProducts!
  product(id: Int!): ProductModel!
  searchProducts(name: String!, page: Int = 1, limit: Int = 10): PaginatedProducts!
  productMedia(id: Int!): ProductMediaModel!
  category(id: Int!): CategoryModel!
  productCategory(id: Int!): ProductCategoryModel!
  orderItem(id: Int!): OrderItemModel!
}

input GetProductsInput {
  page: Int = 1
  limit: Int = 10
  sortBy: String
  categoryId: Int
  minPrice: Int
  maxPrice: Int
  inStock: Boolean
}

type Mutation {
  updateUser(updateUserData: UpdateUserInput!): UserModel!
  changePassword(currentPassword: String!, newPassword: String!): Boolean!
  createProduct(createProductData: CreateProductInput!): ProductModel!
  updateProduct(id: Float!, updateProductData: UpdateProductInput!): ProductModel!
  deleteProduct(id: Float!): Boolean!
  createProductMedia(createProductMediaInput: CreateProductMediaInput!): ProductMediaModel!
  removeProductMedia(id: Int!): ProductMediaModel!
  createCategory(createCategoryInput: CreateCategoryInput!): CategoryModel!
  removeCategory(id: Int!): CategoryModel!
  createProductCategory(createProductCategoryInput: CreateProductCategoryInput!): ProductCategoryModel!
  removeProductCategory(id: Int!): ProductCategoryModel!
  createOrder(createOrderData: CreateOrderInput!): OrderModel!
  addOrderItem(createOrderItemData: CreateOrderItemInput!): OrderItemModel!
  updateOrderItem(id: Float!, quantity: Float!): OrderItemModel!
  removeOrderItem(id: Int!): OrderItemModel!
  removeOrder(id: Float!): Boolean!
  createOrderItem(createOrderItemInput: CreateOrderItemInput!): OrderItemModel!
  createReview(createReviewData: CreateReviewInput!): ReviewModel!
  updateReview(id: Int!, updateReviewData: UpdateReviewInput!): ReviewModel!
  deleteReview(id: Int!): Boolean!
  register(data: CreateUserInput!): AuthResponse!
  login(email: String!, password: String!): AuthResponse!
  updateAccessToken: AuthResponse!
  logout: Boolean!
}

input UpdateUserInput {
  fullname: String
  email: String
  password: String
}

input CreateProductInput {
  name: String!
  description: String!
  price: Int!
  quantity: Int!
  category: CreateCategoryInput!
  media: CreateProductMediaInput!
}

input CreateCategoryInput {
  name: String!
}

input CreateProductMediaInput {
  files: [Upload!]
  orderPosition: Int!
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

input UpdateProductInput {
  name: String
  description: String
  price: Int
  quantity: Int
  category: CreateCategoryInput
  media: CreateProductMediaInput
}

input CreateProductCategoryInput {
  productId: Int!
  categoryId: Int!
}

input CreateOrderInput {
  userId: Int!
}

input CreateOrderItemInput {
  orderId: Int!
  productId: Int!
  quantity: Int!
}

input CreateReviewInput {
  text: String!
  rating: Int!
  userId: Int!
  productId: Int!
}

input UpdateReviewInput {
  text: String
  rating: Int
}

input CreateUserInput {
  fullname: String!
  email: String!
  password: String!
}